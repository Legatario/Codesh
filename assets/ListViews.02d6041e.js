import{_ as L,o as i,c as o,a as s,F as D,r as I,t as g,b as m,L as P,d,w as h,v as u,e as _,f as M,g as x}from"./index.d9bea30b.js";import{B as N,N as z}from"./NotFaulty.d66c216e.js";const j={name:"Pagination",props:["pageID","maxPage"],data(){return{limitationList:5}},methods:{paginationFunction(n){this.$emit("choicePage",n)}}},R=["v-show"],q={class:"prev"},F=["onClick"],B={class:"current"},E={class:"next"},V=["onClick"];function T(n,e,c,f,a,l){return i(),o("nav",{class:"navList","v-show":c.maxPage>0},[s("div",q,[(i(!0),o(D,null,I(c.pageID,(r,p)=>(i(),o("div",{class:"prev-btn",key:p},[p<=a.limitationList&&r-1!=0?(i(),o("button",{key:0,onClick:b=>l.paginationFunction(c.pageID-p)},g(c.pageID-p),9,F)):m("",!0)]))),128))]),s("button",B,g(c.pageID),1),s("div",E,[(i(!0),o(D,null,I(c.maxPage,r=>(i(),o("div",{class:"next-btn",key:r},[r<=a.limitationList&&c.pageID+r<=c.maxPage?(i(),o("button",{key:0,onClick:p=>l.paginationFunction(c.pageID+r)},g(c.pageID+r),9,V)):m("",!0)]))),128))])],8,R)}const $=L(j,[["render",T],["__scopeId","data-v-ec6284fc"]]);const A={name:"Msg",props:{msg:String}},G={class:"message-container"};function H(n,e,c,f,a,l){return i(),o("div",G,[s("p",null,g(c.msg),1)])}const J=L(A,[["render",H],["__scopeId","data-v-6b680cb4"]]);const K={name:"MainList",data(){return{sectionDatas:null,localStorageDatas:null,size:null,pages:null,pageID:1,msg:null,contMsg:0,rel:!0}},methods:{async getList(){const e=await(await fetch(`https://api.beta.mejorconsalud.com/wp-json/mc/v2/posts?&per_page=15&page=${this.pageID}`)).json();this.sectionDatas=e.data,this.size=e.size,this.pages=e.pages},getLocalList(){let n=localStorage.getItem("searchInput");n!==null?(this.localStorageDatas=n,localStorage.clear(),this.getSearchList()):this.getList()},async getSearchList(){const e=await(await fetch(`https://api.beta.mejorconsalud.com/wp-json/mc/v2/posts?search=${this.localStorageDatas}&page=${this.pageID}&per_page=15`)).json();this.sectionDatas=e.data,this.size=e.size,this.pages=e.pages,this.msg=`Se encontraron ${this.size} art\xEDculos`,this.contMsg=this.contMsg+1,setTimeout(()=>this.contMsg=this.contMsg+1,3e3)},async getSearchListRelevance(){const e=await(await fetch(`https://api.beta.mejorconsalud.com/wp-json/mc/v2/posts?search=${this.localStorageDatas}&orderby=relevance&per_page=15`)).json();this.sectionDatas=e.data,this.size=e.size,this.pages=e.pages},async getListRelevance(){const e=await(await fetch("https://api.beta.mejorconsalud.com/wp-json/mc/v2/posts?&per_page=15&orderby=relevance")).json();this.sectionDatas=e.data,this.size=e.size,this.pages=e.pages},Previous(){this.sectionDatas=null,this.pageID=1,this.localStorageDatas!==null?this.getSearchList():this.getList()},Next(){this.sectionDatas=null,this.pageID=this.pages,this.localStorageDatas!==null?this.getSearchList():this.getList()},onChoicePage(n){this.sectionDatas=null,this.pageID=n,this.localStorageDatas!==null?this.getSearchList():this.getList()},onChoiceRelevance(n){this.sectionDatas=null,this.pageID=1,this.localStorageDatas!==null?n=="up"?this.getSearchListRelevance():this.getSearchList():n=="up"?this.getListRelevance():this.getList()},relationship(){this.sectionDatas=null,this.rel=!this.rel}},mounted(){this.getLocalList()},components:{Loading:P,Button:N,Pagination:$,Msg:J,NotFaulty:z}},O={class:"card__relevance"},Q={key:0,class:"card__relevance--btn"},U={key:1,class:"card__relevance--btn"},W=["src","alt"],X={class:"card__article"},Y={key:0,class:"card__article--title"},Z={class:"card__article--text"},tt={class:"card__article--span"},et={class:"card__info"},at={class:"card__article--title"},st=M("paginas: "),nt={class:"pagination"},it={class:"pagination__container"},ot={class:"pagination__left"},ct={class:"pagination__right"};function lt(n,e,c,f,a,l){const r=d("Loading"),p=d("Msg"),b=d("NotFaulty"),v=d("Button"),C=d("RouterLink"),k=d("Pagination");return i(),o(D,null,[h(_(r,null,null,512),[[u,!a.sectionDatas]]),h(_(p,{msg:a.msg},null,8,["msg"]),[[u,a.contMsg==1&&a.size>0]]),h(_(b,{localStorageDatas:a.localStorageDatas},null,8,["localStorageDatas"]),[[u,a.size==0]]),s("section",null,[h(s("article",null,[s("div",O,[a.rel?(i(),o("div",Q,[_(v,{btnName:"Relevancia: \u2191",onCallEvent:e[0]||(e[0]=t=>(l.relationship(),l.onChoiceRelevance("up")))})])):m("",!0),a.rel?m("",!0):(i(),o("div",U,[_(v,{btnName:"Relevancia:  \u2193",onCallEvent:e[1]||(e[1]=t=>(l.relationship(),l.onChoiceRelevance("up")))})]))]),(i(!0),o(D,null,I(a.sectionDatas,t=>{var S;return h((i(),o("div",{class:"card__destak",key:t.id},[_(C,{to:{path:`/articulo/${t.id}`}},{default:x(()=>{var y,w;return[h(s("img",{src:(y=t==null?void 0:t.featured_media)==null?void 0:y.thumbnail,alt:t.title,class:"card__destake--img"},null,8,W),[[u,(w=t==null?void 0:t.featured_media)==null?void 0:w.thumbnail]]),s("div",X,[(t==null?void 0:t.categories.length)>0?(i(),o("span",Y,g(t==null?void 0:t.categories[0].name),1)):m("",!0),s("h2",Z,g(t.title),1),s("p",tt,g(t.headline),1)])]}),_:2},1032,["to"])])),[[u,t.headline&&((S=t==null?void 0:t.featured_media)==null?void 0:S.thumbnail)&&(t==null?void 0:t.categories.length)>0]])}),128)),s("div",et,[s("p",at,[st,s("span",null,g(a.pageID)+"/"+g(a.pages),1)])]),s("div",nt,[s("aside",it,[h(s("div",ot,[_(v,{btnName:"<<",onCallEvent:l.Previous},null,8,["onCallEvent"])],512),[[u,a.pageID>1]]),_(k,{pageID:a.pageID,maxPage:a.pages,onChoicePage:l.onChoicePage},null,8,["pageID","maxPage","onChoicePage"]),h(s("div",ct,[_(v,{btnName:">>",onCallEvent:l.Next},null,8,["onCallEvent"])],512),[[u,a.pageID!==a.pages]])])])],512),[[u,a.sectionDatas&&a.size>0]])])],64)}const rt=L(K,[["render",lt],["__scopeId","data-v-1e451260"]]),_t={name:"ListViews",components:{MainList:rt}},gt={class:"container"};function ht(n,e,c,f,a,l){const r=d("MainList");return i(),o("div",gt,[_(r)])}const dt=L(_t,[["render",ht]]);export{dt as default};
